!function(){"use strict";var t=[{label:"Economie numérique",id:"st-1"},{label:"Economie sociale et solidaire",id:"st-2"},{label:"Economie circulaire",id:"st-3"},{label:"Scolarité",id:"st-4"},{label:"Enfance et petite enfance",id:"st-5"},{label:"Propreté",id:"st-6"},{label:"Ecologie",id:"st-7"},{label:"Energie renouvelable",id:"st-8"},{label:"Culture",id:"st-9"},{label:"Démocratie locale",id:"st-10"},{label:"Sport",id:"st-11"},{label:"Santé publique",id:"st-12"},{label:"Aides sociales",id:"st-13"},{label:"Restauration",id:"st-14"},{label:"Logement",id:"st-15"},{label:"Emploi et travail",id:"st-16"},{label:"Institution",id:"st-17"},{label:"Rayonnement",id:"st-18"},{label:"Police et gendarmerie",id:"st-19"},{label:"Vélo",id:"st-20"},{label:"Métro",id:"st-21"}],e=Object.freeze({__proto__:null,default:t}),i=Object.freeze({__proto__:null,default:[{id:"t-1",label:"Economie","sous-thematiques":["st-1","st-2","st-3"]},{id:"t-2",label:"Education","sous-thematiques":["st-4","st-5"]},{id:"t-3",label:"Environnement","sous-thematiques":["st-6","st-7","st-8"]},{id:"t-4",label:"Politiques publiques","sous-thematiques":["st-9","st-10","st-11","st-12","st-13","st-14","st-15","st-16","st-17","st-18"]},{id:"t-5",label:"Sécurité","sous-thematiques":["st-19"]},{id:"t-6",label:"Transport","sous-thematiques":["st-20","st-21"]},{id:"t-7",label:"Urbanisme"}]}),s=Object.freeze({__proto__:null,default:[{id:"appere",tetes:[{prenom:"Nathalie",nom:"Appéré"}],partis:"PS-PC-G·s-PRG-PP",liste:"Pour Rennes",website:"https://avecnathalieappere.fr/",twitter:"PourRennes",propositions:[{id:"appere-p-1",st:"st-21",label:"Créer 5 lignes express de tramways sur roues connectées au métro"},{id:"appere-p-2",st:"st-1",label:"Un truc de fou moi je vous le dis !"}]},{id:"gandon",tetes:[{prenom:"Carole",nom:"Gandon"}],parti:"LaREM",liste:"Révéler Rennes",website:"https://reveler-rennes.bzh/",twitter:"RevelerRennes",polemiques:[{label:"Mailing malencontreux",references:[{titre:"",url:""}]}],propositions:[{id:"appere-p-1",st:"st-1",label:"Un truc de fou moi je vous le dis de mieux qu'à gauche !"},{id:"appere-p-2",st:"st-1",label:"Un truc de fou moi je vous le dis de vraiment mieux qu'à gauche !"}]},{id:"verts",tetes:[{prenom:"Matthieu",nom:"Theurier"},{prenom:"Priscilla",nom:"Zamord"}],parti:"EELV-UDB-ND",liste:"Choisir l'écologie pour Rennes",website:"https://rennes-ecologie.bzh/",twitter:"Rennes_Ecologie",propositions:[]},{id:"lepape",tetes:[{prenom:"Enora",nom:"Le Pape"},{prenom:"Jean-Paul",nom:"Tual"}],parti:"LFI",liste:"Rennes en commun",website:"https://rennes-en-commun-2020.fr/",twitter:"RennesEnCommun",propositions:[]},{id:"compagnon",tetes:[{prenom:"Charles",nom:"Compagnon"}],parti:"DVD-LR-MoDem-UDI-PB",liste:"Libres d’agir pour Rennes",website:"https://www.compagnon2020.fr/",twitter:"compagnon2020",propositions:[]},{id:"salmon",tetes:[{prenom:"Émeric",nom:"Salmon"}],parti:"RN",twitter:"EmericSalmon",propositions:[]},{id:"darcel",tetes:[{prenom:"Franck",nom:"Darcel"}],parti:"REG",liste:"Rennes Bretagne Europe",website:"http://rbe2020darcel.bzh/",twitter:"RBEdaViken",propositions:[]},{id:"hamon",tetes:[{prenom:"Valérie",nom:"Hamon"}],parti:"LO",liste:"Lutte ouvrière – faire entendre le camp des travailleurs",website:"https://www.lutte-ouvriere.org/en-regions/bretagne",twitter:"LutteOuvriere",propositions:[]}]});"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function o(t){return t&&t.default||t}var n=o(i),r=o(e),a=o(s);n.forEach(t=>{t["sous-thematiques"]&&(t["sous-thematiques"]=t["sous-thematiques"].map(t=>r.find(e=>e.id===t)))}),a.forEach(t=>{t.orderedThematiques=JSON.parse(JSON.stringify(n)),t.orderedThematiques.forEach(e=>{e["sous-thematiques"]&&e["sous-thematiques"].forEach(e=>{e.propositions=[],e.propositions=t.propositions.filter(t=>t.st===e.id)})})});var c={candidats:a,thematiques:n},l=function(t,e){return t(e={exports:{}},e.exports),e.exports}((function(t,e){function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(t,s.key,s)}}
/**
     * Sticky.js
     * Library for sticky elements written in vanilla javascript. With this library you can easily set sticky elements on your website. It's also responsive.
     *
     * @version 1.2.2
     * @author Rafal Galus <biuro@rafalgalus.pl>
     * @website https://rgalus.github.io/sticky-js/
     * @repo https://github.com/rgalus/sticky-js
     * @license https://github.com/rgalus/sticky-js/blob/master/LICENSE
     */
var o;o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};i(this,t),this.selector=e,this.elements=[],this.version="1.2.2",this.vp=this.getViewportSize(),this.body=document.querySelector("body"),this.options={wrap:s.wrap||!1,marginTop:s.marginTop||0,stickyFor:s.stickyFor||0,stickyClass:s.stickyClass||null,stickyContainer:s.stickyContainer||"body"},this.updateScrollTopPosition=this.updateScrollTopPosition.bind(this),this.updateScrollTopPosition(),window.addEventListener("load",this.updateScrollTopPosition),window.addEventListener("scroll",this.updateScrollTopPosition),this.run()}var e,o,n;return e=t,(o=[{key:"run",value:function(){var t=this,e=setInterval((function(){if("complete"===document.readyState){clearInterval(e);var i=document.querySelectorAll(t.selector);t.forEach(i,(function(e){return t.renderElement(e)}))}}),10)}},{key:"renderElement",value:function(t){var e=this;t.sticky={},t.sticky.active=!1,t.sticky.marginTop=parseInt(t.getAttribute("data-margin-top"))||this.options.marginTop,t.sticky.stickyFor=parseInt(t.getAttribute("data-sticky-for"))||this.options.stickyFor,t.sticky.stickyClass=t.getAttribute("data-sticky-class")||this.options.stickyClass,t.sticky.wrap=!!t.hasAttribute("data-sticky-wrap")||this.options.wrap,t.sticky.stickyContainer=this.options.stickyContainer,t.sticky.container=this.getStickyContainer(t),t.sticky.container.rect=this.getRectangle(t.sticky.container),t.sticky.rect=this.getRectangle(t),"img"===t.tagName.toLowerCase()&&(t.onload=function(){return t.sticky.rect=e.getRectangle(t)}),t.sticky.wrap&&this.wrapElement(t),this.activate(t)}},{key:"wrapElement",value:function(t){t.insertAdjacentHTML("beforebegin","<span></span>"),t.previousSibling.appendChild(t)}},{key:"activate",value:function(t){t.sticky.rect.top+t.sticky.rect.height<t.sticky.container.rect.top+t.sticky.container.rect.height&&t.sticky.stickyFor<this.vp.width&&!t.sticky.active&&(t.sticky.active=!0),this.elements.indexOf(t)<0&&this.elements.push(t),t.sticky.resizeEvent||(this.initResizeEvents(t),t.sticky.resizeEvent=!0),t.sticky.scrollEvent||(this.initScrollEvents(t),t.sticky.scrollEvent=!0),this.setPosition(t)}},{key:"initResizeEvents",value:function(t){var e=this;t.sticky.resizeListener=function(){return e.onResizeEvents(t)},window.addEventListener("resize",t.sticky.resizeListener)}},{key:"destroyResizeEvents",value:function(t){window.removeEventListener("resize",t.sticky.resizeListener)}},{key:"onResizeEvents",value:function(t){this.vp=this.getViewportSize(),t.sticky.rect=this.getRectangle(t),t.sticky.container.rect=this.getRectangle(t.sticky.container),t.sticky.rect.top+t.sticky.rect.height<t.sticky.container.rect.top+t.sticky.container.rect.height&&t.sticky.stickyFor<this.vp.width&&!t.sticky.active?t.sticky.active=!0:(t.sticky.rect.top+t.sticky.rect.height>=t.sticky.container.rect.top+t.sticky.container.rect.height||t.sticky.stickyFor>=this.vp.width&&t.sticky.active)&&(t.sticky.active=!1),this.setPosition(t)}},{key:"initScrollEvents",value:function(t){var e=this;t.sticky.scrollListener=function(){return e.onScrollEvents(t)},window.addEventListener("scroll",t.sticky.scrollListener)}},{key:"destroyScrollEvents",value:function(t){window.removeEventListener("scroll",t.sticky.scrollListener)}},{key:"onScrollEvents",value:function(t){t.sticky.active&&this.setPosition(t)}},{key:"setPosition",value:function(t){this.css(t,{position:"",width:"",top:"",left:""}),this.vp.height<t.sticky.rect.height||!t.sticky.active||(t.sticky.rect.width||(t.sticky.rect=this.getRectangle(t)),t.sticky.wrap&&this.css(t.parentNode,{display:"block",width:t.sticky.rect.width+"px",height:t.sticky.rect.height+"px"}),0===t.sticky.rect.top&&t.sticky.container===this.body?this.css(t,{position:"fixed",top:t.sticky.rect.top+"px",left:t.sticky.rect.left+"px",width:t.sticky.rect.width+"px"}):this.scrollTop>t.sticky.rect.top-t.sticky.marginTop?(this.css(t,{position:"fixed",width:t.sticky.rect.width+"px",left:t.sticky.rect.left+"px"}),this.scrollTop+t.sticky.rect.height+t.sticky.marginTop>t.sticky.container.rect.top+t.sticky.container.offsetHeight?(t.sticky.stickyClass&&t.classList.remove(t.sticky.stickyClass),this.css(t,{top:t.sticky.container.rect.top+t.sticky.container.offsetHeight-(this.scrollTop+t.sticky.rect.height)+"px"})):(t.sticky.stickyClass&&t.classList.add(t.sticky.stickyClass),this.css(t,{top:t.sticky.marginTop+"px"}))):(t.sticky.stickyClass&&t.classList.remove(t.sticky.stickyClass),this.css(t,{position:"",width:"",top:"",left:""}),t.sticky.wrap&&this.css(t.parentNode,{display:"",width:"",height:""})))}},{key:"update",value:function(){var t=this;this.forEach(this.elements,(function(e){e.sticky.rect=t.getRectangle(e),e.sticky.container.rect=t.getRectangle(e.sticky.container),t.activate(e),t.setPosition(e)}))}},{key:"destroy",value:function(){var t=this;window.removeEventListener("load",this.updateScrollTopPosition),window.removeEventListener("scroll",this.updateScrollTopPosition),this.forEach(this.elements,(function(e){t.destroyResizeEvents(e),t.destroyScrollEvents(e),delete e.sticky}))}},{key:"getStickyContainer",value:function(t){for(var e=t.parentNode;!e.hasAttribute("data-sticky-container")&&!e.parentNode.querySelector(t.sticky.stickyContainer)&&e!==this.body;)e=e.parentNode;return e}},{key:"getRectangle",value:function(t){this.css(t,{position:"",width:"",top:"",left:""});var e=Math.max(t.offsetWidth,t.clientWidth,t.scrollWidth),i=Math.max(t.offsetHeight,t.clientHeight,t.scrollHeight),s=0,o=0;do{s+=t.offsetTop||0,o+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:s,left:o,width:e,height:i}}},{key:"getViewportSize",value:function(){return{width:Math.max(document.documentElement.clientWidth,window.innerWidth||0),height:Math.max(document.documentElement.clientHeight,window.innerHeight||0)}}},{key:"updateScrollTopPosition",value:function(){this.scrollTop=(window.pageYOffset||document.scrollTop)-(document.clientTop||0)||0}},{key:"forEach",value:function(t,e){for(var i=0,s=t.length;i<s;i++)e(t[i])}},{key:"css",value:function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t.style[i]=e[i])}}])&&s(e.prototype,o),n&&s(e,n),t}(),t.exports=o}));const d=c.thematiques,u=()=>{let e=0;const i=document.querySelector(".nav-container"),s=document.querySelector(".main-container"),o=document.querySelector(".candidats-list"),n=s.offsetWidth;s.style.top=i.offsetHeight+"px";const r=Array.from(s.querySelectorAll("article"));r.map(t=>{e=n>380?380:n,t.style.width=e+"px"});let a=0;const c=r.length,u=document.querySelectorAll(".second-nav__right .button")[0],h=document.querySelectorAll(".second-nav__right .button")[1],p=t=>{if(t.currentTarget.classList.contains("disabled"))return;1===parseInt(t.currentTarget.getAttribute("data-direction"))?a+=1:a-=1,s.scrollLeft=a*e,o.scrollLeft=a*e,a>0&&a<c-1?(u.classList.remove("disabled"),h.classList.remove("disabled")):0===a?(u.classList.add("disabled"),h.classList.remove("disabled")):(u.classList.remove("disabled"),h.classList.add("disabled"))};u.addEventListener("click",p),h.addEventListener("click",p),t.forEach(t=>{const e=Array.from(document.querySelectorAll(`[data-sous-thematique-id=${t.id}]`));let i=0;e.forEach(t=>{t.offsetHeight>i&&(i=t.offsetHeight)}),e.forEach(t=>{t.style.height=i+"px"})});const y=document.querySelector("#thematiques"),m=document.querySelector("#sous-thematiques"),f=document.createElement("option");f.text="Toutes les sous-thématiques",f.value="";const k=t=>{m.options.length=0,m.disabled=!1,m.add(f),t.forEach(t=>{let e=document.createElement("option");e.text=t.label,e.value=t.id,m.add(e)}),m.selectedIndex=0},v=t=>{const e=(t=>{let e;return d.forEach(i=>{i["sous-thematiques"]&&i["sous-thematiques"].forEach(s=>{s.id===t.id&&(e=i)})}),e})(t);Array.from(document.querySelectorAll(`[data-thematique-id="${e.id}"] [data-sous-thematique-id]:not([data-sous-thematique-id="${t.id}"])`)).forEach(t=>{t.style.display="none"}),Array.from(document.querySelectorAll(`[data-sous-thematique-id="${t.id}"]`)).forEach(t=>{t.style.display="block"})},g=()=>{Array.from(document.querySelectorAll(".sous-thematique")).forEach(t=>{t.style.display="block"})};y.addEventListener("change",t=>{const e=t.currentTarget.value,i=d.find(t=>t.id===e);var s;i&&(i["sous-thematiques"]?k(i["sous-thematiques"]):m.disabled=!0,s=i,Array.from(document.querySelectorAll(`[data-thematique-id]:not([data-thematique-id="${s.id}"])`)).forEach(t=>{t.style.display="none"}),Array.from(document.querySelectorAll(`[data-thematique-id="${s.id}"]`)).forEach(t=>{t.style.display="block"})),""===e&&(Array.from(document.querySelectorAll(".thematique")).forEach(t=>{t.style.display="block"}),g(),m.selectedIndex=0,m.disabled=!0)}),m.addEventListener("change",e=>{const i=e.currentTarget.value,s=t.find(t=>t.id===i);s&&v(s),""===i&&g()}),Array.from(document.querySelectorAll(".thematique h2")).forEach(t=>{t.setAttribute("data-margin-top",i.offsetHeight)});new l(".thematique h2")};document.addEventListener("DOMContentLoaded",()=>{setTimeout(u,250)})}();
